/* 1 */
{
    "_id": ObjectId("5ec8c06fed0046ad0124717d"),
    "author": "英雄联盟小组编",
    "title": "2020 年，我这样在项目中使用 MVVM",
    "pic": "/public/img/1.jpg",
    "showTop": true,
    "show": true,
    "remark": [
        {},
        {}
    ],
    "body": "<p>最近在使用MVVM架构的时候涉及到一个在View层中何处初始化话ViewModel的问题。因为我们的项目中都会有BaseAcitvity，对于MVVM架构的话，我们可以通过泛型指定子类使用的具体的ViweModel,然后BaseActivity抽象出初始化ViewModel的方法，由子类来具体实现。主要代码如下：</p><pre>public&nbsp;abstract&nbsp;class&nbsp;BaseActivity&lt;VM&nbsp;extends&nbsp;ViewModel&gt;&nbsp;extends&nbsp;AppCompatActivity&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;VM&nbsp;viewModel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(@Nullable&nbsp;Bundle&nbsp;savedInstanceState)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(layoutId());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewModel&nbsp;=&nbsp;createViewModel();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;VM&nbsp;createViewModel();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@LayoutRes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;int&nbsp;layoutId();&nbsp;}&nbsp;复制代码</pre><pre>public&nbsp;class&nbsp;ActivityHome&nbsp;extends&nbsp;BaseActivity&lt;HomeViewModel&gt;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HomeViewModel&nbsp;createViewModel()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;ViewModelProvider(this).get(HomeViewModel.class);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;layoutId()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;R.layout.activity_home;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;}&nbsp;复制代码</pre><pre>public&nbsp;class&nbsp;HomeViewModel&nbsp;extends&nbsp;AndroidViewModel&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;HomeViewModel(@NonNull&nbsp;Application&nbsp;application)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(application);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;}&nbsp;复制代码</pre><p>于是我想到可不可以直接在在BaseActivity里初始化子类的ViewModel，而不用子类每次都要实现这个createViewmodel方法，但是要实现这个效果需要解决两个问题：</p><p>首先，第一个问题：如何在BaseActivity中知道子类指定的哪个ViewModel</p><blockquote><p>public class ActivityHome extends BaseActivity</p></blockquote><p>我们在子类中通过泛型指定了HomeViewModel并当作BaseActivity的泛型类的形参传递给BaseActivity，按道理来讲在BaseActivity中是可以拿到自己的泛型信息的，实际上也是可以的: <strong>Class类中的getGenericSuperclass()方法可以拿到父类的类型信息，当然也就拿到了泛型信息，因为一个类拥有泛型，那么这个类的类型就是这些泛型决定的(不准确)。</strong></p><pre>public&nbsp;abstract&nbsp;class&nbsp;BaseActivity&lt;VM&nbsp;extends&nbsp;ViewModel&gt;&nbsp;extends&nbsp;AppCompatActivity&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;final&nbsp;String&nbsp;TAG&nbsp;=&nbsp;getClass().getSimpleName();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;VM&nbsp;viewModel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(@Nullable&nbsp;Bundle&nbsp;savedInstanceState)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(layoutId());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewModel&nbsp;=&nbsp;createViewModel();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;genericSuperclass&nbsp;=&nbsp;getClass().getGenericSuperclass();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(genericSuperclass&nbsp;!=&nbsp;null)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;genericSuperclass.toString());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;log输出为:ActivityHome:&nbsp;com.allfun.blogssourcecode.one.BaseActivity&lt;com.allfun.blogssourcecode.one.HomeViewModel&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;VM&nbsp;createViewModel();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@LayoutRes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;int&nbsp;layoutId();&nbsp;}&nbsp;复制代码</pre><p>其实就是当前类ActivityHome初始化的时候调用父类BaseActivity的onCreate方法触发getGenericSuperclass获得BaseActivity的泛型，从log里可以看出，我们看到了ActivityHome在泛型里指定的ViewModel：HomeViewModel。</p><p>第二个问题：知道子类指定的ViewModel之后如何得到对应ViewModel的class类（因为需要使用new ViewModelProvider(this).get(HomeViewModel.class)进行ViewModel的实例化）。</p><p>通过问题一的getGenericSuperclass()方法拿到父类的泛型信息，返回值为Type,然后我们通过强转将类型强转为泛型类型，再通过getActualTypeArguments()方法拿到泛型类型对应的泛型数组，因为我们这里只有一个泛型VM所以取第一个就是我们需要的HomeViewModel。</p><p>但是我们需要的是HomeViewModel的Class对象，而现在得到的是HomeViewModel Type，那么我们找一下Class和Type的关系：</p><figure><img alt=\"Type继承关系树\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/24/172453336d0a6a43?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"478\" data-height=\"156\" src=\"https://user-gold-cdn.xitu.io/2020/5/24/172453336d0a6a43?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption></figcaption></figure>由Type的继承关系可以看出，它只有一个实现子类Class，也就是说，所有类型的Type最终都是由一个个Class表示的，那么我们就直接将得到的type强转为Class对象，至此就可以通过ViewModelProvider(this).get(HomeViewModel.class)在BaseActivity中通过泛型直接实例化出子类的ViewModel对象了。 修改一下代码，如下：<p><br/></p><pre>public&nbsp;abstract&nbsp;class&nbsp;BaseActivity&lt;VM&nbsp;extends&nbsp;ViewModel&gt;&nbsp;extends&nbsp;AppCompatActivity&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;final&nbsp;String&nbsp;TAG&nbsp;=&nbsp;getClass().getSimpleName();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;VM&nbsp;viewModel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(@Nullable&nbsp;Bundle&nbsp;savedInstanceState)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(layoutId());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createViewModel();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;createViewModel()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;genericSuperclass&nbsp;=&nbsp;getClass().getGenericSuperclass();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(genericSuperclass&nbsp;!=&nbsp;null)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParameterizedType&nbsp;parameterizedType&nbsp;=&nbsp;(ParameterizedType)&nbsp;genericSuperclass;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type[]&nbsp;actualTypeArguments&nbsp;=&nbsp;parameterizedType.getActualTypeArguments();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&nbsp;homeViewModelClass&nbsp;=&nbsp;(Class)&nbsp;actualTypeArguments[0];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewModel&nbsp;=&nbsp;((VM)&nbsp;new&nbsp;ViewModelProvider(this).get(homeViewModelClass));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@LayoutRes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;int&nbsp;layoutId();&nbsp;}&nbsp;...&nbsp;...&nbsp;复制代码</pre><p>目的是达到了，但是有个问题还是不太明白： java泛型只存在编译期间，运行时就会将泛型擦除，也就是说 ((VM) new ViewModelProvider(this).get(homeViewModelClass))这里的VM会被替换为Object，那问题来了，这样的话是如何完成类型转换的，因为从结果看也顺利转换为HomeViewModel类型了。</p><p>其实这里VM确实会被替换为ViewModel(此处因为又extends ViewModel,应该会替换为ViewModel)，之所以也能转转换成功，是因为这个Class本身就是HomeViewModel的Class类，这里强转只是为了让编译器(存疑)可以识别这个Class是HomeViewModel的Class,是为了继续下一步的编码，因为我们不强转为VM类型，那么就无法使 VM &nbsp;viewModel = ((VM) new ViewModelProvider(this).get(homeViewModelClass))，因为左边需要一个VM实例，而右边不强转的话只是一个Object,尽管这个Object实际上是VM的实例，我举个例子会比较好理解：</p><pre>public&nbsp;class&nbsp;Example&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;class&nbsp;People&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;class&nbsp;Doctor&nbsp;extends&nbsp;People&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Doctor&nbsp;doctor&nbsp;=&nbsp;new&nbsp;Doctor();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(doctor);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;void&nbsp;test(Object&nbsp;object)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&nbsp;aClass&nbsp;=&nbsp;object.getClass();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.e(&quot;test&quot;,aClass.toString());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//log输出为:&nbsp;test:&nbsp;class&nbsp;com.allfun.blogssourcecode.one.Example$Doctor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;}&nbsp;复制代码</pre><p>又上面这个例子可以知道，一个类实例本身是什么实例化的时候就定下来了，中间可能因为作为参数传递的时候丢失了具体的类型而转化为父类（头Doctor转化为Object）但是在内存里依然是Doctor对象，所以呢类型转化在这里只是一个标记而已，告诉程序这个对象现在当作这种类型来使用，并不会改变对象实际的属性（据说也会有改变原本对象结构的强转，但是在这里这种情况不是）。</p><p>所以呢，我认为((VM) new ViewModelProvider(this).get(homeViewModelClass))这里的强转只是为了让编码能进行下去，因为不加（VM）等式不成立会报错。</p><p>但是程序实际运行的时候方法体内VM会替换为ViewModel，那么会被强转为ViewModel为不是HomeViewModel不是吗？其实不会，因为Java泛型有这么一种规律：</p><blockquote><p>位于声明一侧的，源码里写了什么到运行时就能看到什么； 位于使用一侧的，源码里写什么到运行时都没了。</p></blockquote><p>protected VM viewModel;这里属于声明一侧，所以viewModel = ((VM) new ViewModelProvider(this).get(homeViewModelClass));运行的时候是赋值给VM类型的viewModel，换成例子中VM就是HomeViewModel,所以最后还是拿到了VM泛型代表的类型实参的对象实例。</p><p>其实呢，createViewModel方法可以这样写</p><pre>&nbsp;private&nbsp;void&nbsp;createViewModel()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;genericSuperclass&nbsp;=&nbsp;getClass().getGenericSuperclass();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(genericSuperclass&nbsp;!=&nbsp;null)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParameterizedType&nbsp;parameterizedType&nbsp;=&nbsp;(ParameterizedType)&nbsp;genericSuperclass;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type[]&nbsp;actualTypeArguments&nbsp;=&nbsp;parameterizedType.getActualTypeArguments();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;VM&gt;&nbsp;homeViewModelClass&nbsp;=&nbsp;(Class&lt;VM&gt;)&nbsp;actualTypeArguments[0];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewModel&nbsp;=&nbsp;(new&nbsp;ViewModelProvider(this).get(homeViewModelClass));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><br/>作者：沐潇洪<br/>链接：https://juejin.im/post/5eca09046fb9a047a3273417<br/>来源：掘金<br/>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",
    "createTime": ISODate("2020-05-23T13:25:45.653Z"),
    "type": 2
}
/* 2 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471ea"),
    "author": "谈笑风生",
    "title": "后起之秀和黯然失色的 MVP",
    "showTop": true,
    "show": true,
    "pic": "/public/img/0.jpg",
    "remark": [],
    "body": "<div><div><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-0\"><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">前言</span><span class=\"suffix\"></span></h2><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">androidx Navigation</code> 组件是 Android 中应用内导航的官方库，当前最新的版本为 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2.3.0-beta01</code>（2020.05.20）</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">很多人不喜欢 Navigation 因为其设计不符合开发者的预期，它在 navigate 时会导致之前的 fragment 重建。网上针对这一问题有一个 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://github.com/STAR-ZERO/navigation-keep-fragment-sample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">重写 Navigator 的方案</a>，大多数人会简单地认为 Navigation 无法保存 fragment 状态是因为使用了 replace（曾经的我也这样认为）</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">本文的内容为 Navigation 的职能边界，简单使用，高阶使用技巧（例如同一 activity 部分内部分 fragment 共享 ViewModel，模块化）以及关于 Navigation 所谓的「设计问题」的探讨</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">对 Navigation 的使用及职能边界已经了解的小伙伴可以直接跳过前两部分</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">由于文章内容较长，已将模块化部分单独成文，<a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5ec50ae46fb9a047a862124f\" target=\"_blank\" rel=\"\">地址在这</a></p><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-1\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">没有 Navigation 的世界</span><span class=\"suffix\"></span></h2><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Android 中，activity 和 fragment 是主要的视图控制器，因此界面间的调转也是围绕 activity / fragment 进行的</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;跳转&nbsp;activityval&nbsp;intent&nbsp;=&nbsp;Intent(this,&nbsp;SecondActivity::class.java)intent.putExtra(&quot;key&quot;,&nbsp;&quot;value&quot;)↵startActivity(intent)//&nbsp;跳转&nbsp;fragmentsupportFragmentManager.commit&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;addToBackStack(null)&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;args&nbsp;=&nbsp;Bundle().apply&nbsp;{&nbsp;putString(&quot;key&quot;,&nbsp;&quot;value&quot;)&nbsp;}↵&nbsp;&nbsp;&nbsp;&nbsp;replace&lt;HomeFragment&gt;(R.id.container,&nbsp;args&nbsp;=&nbsp;args)↵}复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">如果项目比较大，我们可能会将 KEY 抽取为常量，并且在 activity 和 fragment 中填写静态方法以告诉调用者该界面需要什么参数</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;SecondActivitycompanion&nbsp;object&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;@JvmStatic↵&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;startSecondActivity(context:&nbsp;Context,&nbsp;param:&nbsp;String)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;intent&nbsp;=&nbsp;Intent(context,&nbsp;SecondActivity::class.java)↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent.putExtra(Constant.KEY,&nbsp;param)↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context.startActivity(intent)↵&nbsp;&nbsp;&nbsp;&nbsp;}↵}//&nbsp;HomeFragmentcompanion&nbsp;object&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;newInstance(param:&nbsp;String)&nbsp;=&nbsp;HomeFragment().apply&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;Bundle().also&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it.putString(Constant.KEY,&nbsp;param)↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}↵&nbsp;&nbsp;&nbsp;&nbsp;}↵}复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">可以看到，得益于 kotlin 的扩展函数，界面间跳转的代码已足够简洁</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">但是</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">如果在每个界面加上跳转动画呢？</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">当你接手一个较大的项目，如何能快速理清界面间的跳转关系？</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">在单 activity 的项目中，如何控制几个相关的 fragment 有着相同的 ViewModel 作用域，而不是整个 activity 共享？</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">组件间的界面跳转？</section></li></ul><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-2\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation 简介</span><span class=\"suffix\"></span></h2><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"摘自19I/0大会\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5ed82ca68e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1145\" data-height=\"635\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1145&quot; height=&quot;635&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">摘自19I/0大会</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Jetpack 导航组件是一套库，工具和指南，为应用内导航提供了强大的导航框架</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-3\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">它是一套库，封装着应用内导航的 API</span><span style=\"display: none;\" class=\"suffix\"></span></h3><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5ed9a5fb72?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1212\" data-height=\"481\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5ed9a5fb72?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">引入依赖如下</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">dependencies&nbsp;{&nbsp;&nbsp;def&nbsp;nav_version&nbsp;=&nbsp;&quot;2.3.0-beta01&quot;↵↵&nbsp;&nbsp;//&nbsp;Java&nbsp;language&nbsp;implementation↵&nbsp;&nbsp;implementation&nbsp;&quot;androidx.navigation:navigation-fragment:$nav_version&quot;↵&nbsp;&nbsp;implementation&nbsp;&quot;androidx.navigation:navigation-ui:$nav_version&quot;↵↵&nbsp;&nbsp;//&nbsp;Kotlin↵&nbsp;&nbsp;implementation&nbsp;&quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;↵&nbsp;&nbsp;implementation&nbsp;&quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;↵↵&nbsp;&nbsp;//&nbsp;Dynamic&nbsp;Feature&nbsp;Module&nbsp;Support↵&nbsp;&nbsp;implementation&nbsp;&quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;↵↵&nbsp;&nbsp;//&nbsp;Testing&nbsp;Navigation↵&nbsp;&nbsp;androidTestImplementation&nbsp;&quot;androidx.navigation:navigation-testing:$nav_version&quot;}复制代码</pre><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"destination\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edb04c7ba?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1181\" data-height=\"452\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edb04c7ba?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">destination</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">它支持 fragment ，activity，或者是自定义的 destination 间的跳转</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"Navigation UI\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edb47adf6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1127\" data-height=\"472\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edb47adf6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">Navigation UI</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation UI 库 支持 Drawer，Toolbar 等 UI 组件</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-4\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">它是一套工具，在 Android Studio 中可以可视化管理界面的导航逻辑</span><span style=\"display: none;\" class=\"suffix\"></span></h3><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"Android Studio 提供可视化管理的工具\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5efff709be?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1263\" data-height=\"553\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5efff709be?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">Android Studio 提供可视化管理的工具</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">现在我们对 Navigation 有一个初步的认识，接下来我们看看 Navigation 的职能边界</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-5\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation 能做什么</span><span style=\"display: none;\" class=\"suffix\"></span></h3><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">简化界面跳转的配置</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">管理返回栈</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">自动化 fragment transaction</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">类型安全地传递参数</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">管理转场动画</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">简化 deep link</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">集中并且可视化管理导航</section></li></ul><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-6\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation 工作逻辑</span><span class=\"suffix\"></span></h2><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation 主要有三个部分</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">Navigation Graph</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">NavHost</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">NavController</section></li></ul><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-7\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation Graph</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigation Graph</code> 是一种新的 resource type，它是一个集中管理 navigation 的 xml 文件</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"Navigation Graph\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edcab0618?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"657\" data-height=\"565\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5edcab0618?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">Navigation Graph</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><strong>「Navigation Graph 中的每一个界面叫：Destination」</strong>，它可以使 fragment ，activity，或者自定义的 Destination</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation 管理的就是 Destination 间的跳转</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">点击 Destination，可以在屏幕右侧看见 deep link 等信息的配置</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"destination attitude\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f40817110?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"960\" data-height=\"833\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f40817110?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">destination attitude</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><strong>「Navigation Graph 中的带箭头的线叫：Action」</strong>，它代表着 Destination 间不同的路径</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">点击 Action，可以在屏幕右侧看到 Action 的详细配置，动画，Destination 间跳转传递的参数，操作返回栈，Launch Options</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"action attributes\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f08015a37?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1086\" data-height=\"862\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1086&quot; height=&quot;862&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">action attributes</figcaption></figure><blockquote style=\"font-size: 0.9em; overflow: auto; padding: 10px 10px 10px 20px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; border-radius: 6px; color: rgb(89, 89, 89); box-sizing: inherit; border: 1px solid rgb(222, 198, 251); background: rgb(246, 238, 255);\" data-tool=\"mdnice编辑器\"><span style=\"color: #DEC6FB; font-size: 34px; line-height: 1; font-weight: 700;\">❝</span><p style=\"padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin-top: 0px; margin-bottom: 0px; line-height: 26px;\">不知道各位小伙伴大学是否学过 <strong>「图论」</strong>，个人感觉 Navigation Graph 就像 <strong>「有向图」</strong>，而其中的 Destination 和 Action 就像图论中的 <strong>「点」</strong> 和 <strong>「边」</strong></p><span style=\"float: right; color: #DEC6FB;\">❞</span></blockquote><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-8\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">NavHost</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHost</code> 是一个空容器，用于显示 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">navigation graph</code> 中的 destination。 导航组件提供一个默认的 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHost</code> 实现 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHostFragment</code>，它显示 fragment destination</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">NavHostFragment 是 navigation-fragment 中的类</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"NavHostFragment\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f0a0e76b8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"419\" data-height=\"169\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f0a0e76b8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">NavHostFragment</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">它提供了一个可独立导航的区域，使用时大概是这样</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"NavHostFragment 使用\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f0a0b3698?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"595\" data-height=\"146\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f0a0b3698?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">NavHostFragment 使用</figcaption></figure><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f2547be56?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"436\" data-height=\"867\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f2547be56?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">所有的 fragment Destination 都是通过 NavHostFragment 管理，相当于一个容器</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">每个 NavHostFragment 都有一个 NavController，用于定义 navigation host 中的导航。 它还包括 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/NavGraph\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">navigation graph</a> 以及 navigation 状态（例如当前位置和返回栈），它们将与 NavHostFragment 本身一起保存和恢复</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-9\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">NavController</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavController</code> 帮助 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHost</code> 管理导航，其内部持有 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavGraph</code> 和 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigator</code>（通过持有 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavigatorProvider</code> 间接持有）</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">其中 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/NavGraph\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NavGraph</a> 决定了界面间的跳转逻辑，它通常在 Android resource 下创建，同时也支持通过代码动态创建</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/Navigator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Navigator</a> 定义了一在应用内导航的机制。它的实现类有 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/ActivityNavigator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ActivityNavigator</a>, <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/fragment/DialogFragmentNavigator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DialogFragmentNavigator</a>, <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/fragment/FragmentNavigator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FragmentNavigator</a>, <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/reference/androidx/navigation/NavGraphNavigator\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NavGraphNavigator</a>。当然，开发者也可以自定义 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigator</code>。每种 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigator</code> 都有自己的导航策略，例如 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">ActivityNavigator</code> 使用 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">starActivity</code> 来进行导航</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-10\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">总结</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">下面引用一张 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://xiaozhuanlan.com/u/kunminx\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">KunMinX</a> 的专栏 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://xiaozhuanlan.com/topic/5860149732\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">重学 Android Navigation 一文中的配图</a>，帮助大家理解这其中的依赖关系</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f2d2a2a2d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1073\" data-height=\"556\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1073&quot; height=&quot;556&quot;></svg>\"/></figure><blockquote style=\"font-size: 0.9em; overflow: auto; padding: 10px 10px 10px 20px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; border-radius: 6px; color: rgb(89, 89, 89); box-sizing: inherit; border: 1px solid rgb(222, 198, 251); background: rgb(246, 238, 255);\" data-tool=\"mdnice编辑器\"><span style=\"color: #DEC6FB; font-size: 34px; line-height: 1; font-weight: 700;\">❝</span><p style=\"padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin-top: 0px; margin-bottom: 0px; line-height: 26px;\">来自 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://xiaozhuanlan.com/topic/5860149732\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">重学安卓：就算不用 Jetpack Navigation，也请务必领略的声明式编程之美！ </a></p><span style=\"float: right; color: #DEC6FB;\">❞</span></blockquote><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我们在 res/navigatoin 创建的 xml 文件叫 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigation Graph</code> (类似图论中的图)</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">其内部每个节点叫 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code>(类似图论中的点) ，它对应着 activity/fragment/dialog，代表着屏幕上的界面</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">连接 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code> 与 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code> 之间的线叫 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Action</code>(类似图论中的边)，它是从一个界面跳转另个一个界面的抽象，可以配置跳转动画，传递参数，以及返回栈等信息</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHost</code> 是显示 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigation Graph</code> 的容器，实现类为 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHostFragment</code>，每个 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavHostFragment</code> 中都持有一个 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavController</code></p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavController</code> 是导航的大管家，封装着 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">navigate</code> <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">navigateUp</code> <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">popBackStack</code> 等方法</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigator</code> 是对 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code> 之间跳转的封装。由于 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code> 可以是 activity 或 fragment，因此有了 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">ActivityNavigator</code> <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">FragmentNavigator</code> 等实现类，用于实现具体的界面跳转</p><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-11\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation 的使用技巧</span><span class=\"suffix\"></span></h2><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-12\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">Dialog Destination</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation 2.1.0 引入，用于实现 navigate 到一个 DialogFragment</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">使用也很简单，使用 dialog 标签，其他处理的与 fragment 相同</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"dialog destination\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f30105cb3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"796\" data-height=\"174\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f30105cb3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">dialog destination</figcaption></figure><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-13\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">同一 graph 中共享 ViewModel</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我们都知道 fragment 可以使用 activity 级别共享 ViewModel，但是对于单 activity 项目，这就意味着所有的 fragment 都能拿到这个共享的 ViewModel。本着最少知道原则，这不是一个好的设计</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"想要在部分fragment中共享ViewModel\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f313ed2fe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1079\" data-height=\"549\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1079&quot; height=&quot;549&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">想要在部分fragment中共享ViewModel</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation 2.1.0，官方引入了 navigation graph 内共享的 ViewModel，这使得 ViewModel 的作用域得到了细化，业务之间可以很好地被隔离</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">使用起来非常简单</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;kotlinval&nbsp;viewModel:&nbsp;MyViewModel&nbsp;by&nbsp;navGraphViewModels(R.id.my_graph)复制代码</pre><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;javaNavBackStackEntry&nbsp;backStackEntry&nbsp;=&nbsp;navController.getBackStackEntry(R.id.my_graph);↵MyViewModel&nbsp;viewModel&nbsp;=&nbsp;new&nbsp;ViewModelProvider(backStackEntry).get(MyViewModel.class);复制代码</pre><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-14\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">Safe Args</span><span style=\"display: none;\" class=\"suffix\"></span></h3><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"什么是 Safe Args\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f499f8aa8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"699\" data-height=\"339\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;699&quot; height=&quot;339&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">什么是 Safe Args</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">什么是 Safe Args？</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">它是一个 Gradle 插件，可以根据 navigation 文件生成代码，帮助开发者安全地在 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Destination</code> 之间传递数据</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">那么为什么要设计这样一个插件呢？</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我们知道使用 bundle 或者 intent 传递数据时，如果出现类型不匹配或者其他异常，是在 Runtime 中才能发现的，而 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Safe Args</code> 把校验转移到了编译期</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"为什么设计Safe Args\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f5272e9f7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"709\" data-height=\"395\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;709&quot; height=&quot;395&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">为什么设计Safe Args</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">使用 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Safe Args</code> 需要手动引入插件</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">buildscript&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;repositories&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;google()↵&nbsp;&nbsp;&nbsp;&nbsp;}↵&nbsp;&nbsp;&nbsp;&nbsp;dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;nav_version&nbsp;=&nbsp;&quot;2.3.0-alpha06&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath&nbsp;&quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;}↵}复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">前面我们提到 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Safe Args</code> 会生成代码</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">如果要生成 java 代码，则在 app 或其他 module 的 build.gradle 中加入</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">apply&nbsp;plugin:&nbsp;&quot;androidx.navigation.safeargs&quot;复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">如果向生产 kotlin 代码，则加入</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">apply&nbsp;plugin:&nbsp;&quot;androidx.navigation.safeargs.kotlin&quot;复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">参数是在 action 中配置的，我们只需在加入 argument 标签</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">&lt;action&nbsp;android:id=&quot;@+id/startMyFragment&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;app:destination=&quot;@+id/myFragment&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;argument↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:name=&quot;myArg&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app:argType=&quot;integer&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:defaultValue=&quot;1&quot;&nbsp;/&gt;&lt;/action&gt;复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Navigation 支持以下类型</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"支持的参数类型\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f5652a8f1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"869\" data-height=\"582\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;869&quot; height=&quot;582&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">支持的参数类型</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">启用 Safe Args 后，生成的代码将为每个操作以及每个发送和接收 destination 创建以下类型安全的类和方法</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">为拥有 action 的发送 destination 的创建一个类，该类的类名为 destination 名 + Directions。例如我们的发送 destination 为 SpecifyAmountFragment，那么将会生成 SpecifyAmountFragmentDirections 类。该类会为 destination 的每个 action 创建一个方法</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">为每个传递参数的 action 创建一个内部类，如果 action 叫 confirmationAction 则会创建 ConfirmationAction 类。如果 action 的参数没有默认值，则要求开发者使用该类设置参数</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">为接收 destination 创建一个类，该类的类名为 destination 名 + Args。例如我们的接收 destination 为 ConfirmationFragment，那么将会生成 ConfirmationFragmentArgs 类。使用该类的 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">fromBundle()</code> 方法可以取出从发送 destination 传来的参数</section></li></ul><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">下面的代码展示如何在发送 destination 传递参数</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">override&nbsp;fun&nbsp;onClick(v:&nbsp;View)&nbsp;{&nbsp;&nbsp;&nbsp;val&nbsp;amountTv:&nbsp;EditText&nbsp;=&nbsp;view!!.findViewById(R.id.editTextAmount)&nbsp;&nbsp;&nbsp;val&nbsp;amount&nbsp;=&nbsp;amountTv.text.toString().toInt()&nbsp;&nbsp;&nbsp;//&nbsp;在相应的&nbsp;action&nbsp;中配置参数↵&nbsp;&nbsp;&nbsp;val&nbsp;action&nbsp;=&nbsp;SpecifyAmountFragmentDirections.confirmationAction(amount)↵&nbsp;&nbsp;&nbsp;v.findNavController().navigate(action)↵}复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">接下来展示如何在接收 destination 中取出传来的参数，kotlin 可以使用 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">by navArgs()</code> 获取参数</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;kotlinval&nbsp;args:&nbsp;ConfirmationFragmentArgs&nbsp;by&nbsp;navArgs()override&nbsp;fun&nbsp;onViewCreated(view:&nbsp;View,&nbsp;savedInstanceState:&nbsp;Bundle?)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;tv:&nbsp;TextView&nbsp;=&nbsp;view.findViewById(R.id.textViewAmount)&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;amount&nbsp;=&nbsp;args.amount↵&nbsp;&nbsp;&nbsp;&nbsp;tv.text&nbsp;=&nbsp;amount.toString()↵}复制代码</pre><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">//&nbsp;java@Overridepublic&nbsp;void&nbsp;onViewCreated(View&nbsp;view,&nbsp;@Nullable&nbsp;Bundle&nbsp;savedInstanceState)&nbsp;{↵&nbsp;&nbsp;&nbsp;&nbsp;TextView&nbsp;tv&nbsp;=&nbsp;view.findViewById(R.id.textViewAmount);&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;amount&nbsp;=&nbsp;ConfirmationFragmentArgs.fromBundle(getArguments()).getAmount();↵&nbsp;&nbsp;&nbsp;&nbsp;tv.setText(amount&nbsp;+&nbsp;&quot;&quot;)↵}复制代码</pre><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-15\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">嵌套 navigation graph</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">有一些 destination 通常是组合使用，并且在多个地方重复调用。例如独立的登录流程，后续的忘记密码，修改密码等 destination 可以看做一个整体来使用</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">这种情况我们使用嵌套 navigation graph，选中一组可以作为整体的 destination (按住 shift 鼠标点选)，然后右击选中 <strong>「Move to Nested Graph」</strong> &gt; <strong>「New Graph」</strong> 。这样就生成了 嵌套 navigation graph。在 嵌套 navigation graph 上双击即可查看内部的 destination</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"创建嵌套navigation graph\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f570a965c?imageslim\" data-width=\"1280\" data-height=\"629\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;629&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">创建嵌套navigation graph</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><strong>「如果想要引用其他 module 中的 graph，可以使用 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">include</code> 标签」</strong></p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"include 使用\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f6f71c7f4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"690\" data-height=\"480\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;690&quot; height=&quot;480&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">include 使用</figcaption></figure><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"include 使用\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f7709b92b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"662\" data-height=\"308\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;662&quot; height=&quot;308&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">include 使用</figcaption></figure><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-16\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">全局 action</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">您可以为多个 destination 创建共用的 action，例如您可能想要在不同的 destination 中导航至相同的界面</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">对于这种情况您可以使用全局 action</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">选中一个 destination 并右击，选择 <strong>「Add Action &gt; Global」</strong> ，一个箭头会 出现在 destination 的左边</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"全局 action\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f798420dc?imageslim\" data-width=\"935\" data-height=\"866\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;935&quot; height=&quot;866&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">全局 action</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">使用也很简单，向 navigate 方法传入全局 action 的资源 id 即可</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">viewTransactionButton.setOnClickListener&nbsp;{&nbsp;view&nbsp;-&gt;↵&nbsp;&nbsp;&nbsp;&nbsp;view.findNavController().navigate(R.id.action_global_mainFragment)↵}复制代码</pre><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-17\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">条件导航</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在开发过程中，我们可能会遇到一个 destination 根据条件跳转不同的 destination 的情况</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">例如一些 destination 需要用户处于登录状态才能进入，或者在游戏结束后，胜利和失败跳转不同的 destination</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">下面我们用一个示例来展示 Navigation 如何处理该种场景</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">该示例中，用户尝试跳转到资料页中，如果该用户处于未登录状态，则需要跳转到登录界面</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"graph\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f83ccf4fe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"766\" data-height=\"809\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;766&quot; height=&quot;809&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">graph</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我们使用 LoginViewModel 来保存登录状态，从 ProfileFragment 点击按钮跳转到 ProfileDetailFragment，在该界面判断登录的状态，如果是未授权则跳转到 LoginFragment，如果已授权则提示欢迎</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"ProfileDetailFragment\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f86cec299?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1198\" data-height=\"823\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1198&quot; height=&quot;823&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">ProfileDetailFragment</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在登录界面判断登录状态，如果授权成功则回到 ProfileDetailFragment，授权失败则显示登录失败提示</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在登录界面点击返回视为未授权，应该直接返回 ProfileFragment 界面</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"LoginFragment\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f98ab90fa?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"821\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;821&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">LoginFragment</figcaption></figure><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-18\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">Deep Links</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">开发过程中我们可能会遇到这类的需求，我们需要让用户打开 app 时直接空降到某个特定页面（例如点开通知栏跳转到特定文章），亦或者我们需要从一个 destination 跳转到一个在其他流程中比较深的位置的 destination ，如下图，从 FriendList 跳转到 Chat 界面</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f9dd0b4bb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1004\" data-height=\"516\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1004&quot; height=&quot;516&quot;></svg>\"/></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">上面的这种需求叫作 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">deep link</code> ，Navigation 支持两种 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">deep link</code> 的跳转。</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-19\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">显式 deep link</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在 manifest activity -&gt; intent-filter 标签下 加入 action ，category ，data 等标签，满足条件的 intent 可以被打开</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">详情见 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://developer.android.com/training/app-links/deep-linking\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">官方文档</a>，这里不再赘述，我们只关注如何通过 Navigation 构建 intent</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">val&nbsp;pendingIntent&nbsp;=&nbsp;NavDeepLinkBuilder(context)↵&nbsp;&nbsp;&nbsp;&nbsp;.setGraph(R.navigation.nav_graph)↵&nbsp;&nbsp;&nbsp;&nbsp;.setDestination(R.id.android)↵&nbsp;&nbsp;&nbsp;&nbsp;.setArguments(args)↵&nbsp;&nbsp;&nbsp;&nbsp;.createPendingIntent()复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">如果已经存在 NavController，可以通过 NavController.createDeepLink() 方法创建 deep link</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-20\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">隐式 deep link</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在 navigation graph 中支持 deepLink 标签</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">例如上图从 FriendListFragment 跳转到 ChatFragment，可以在 graph ChatFragment 下加入 deepLink 标签</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">&lt;fragment↵&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/chatFragment&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;android:name=&quot;com.flywith24.bottomtest.ChatFragment↵&nbsp;&nbsp;&nbsp;&nbsp;android:label=&quot;ChatFragment&quot;&gt;↵&nbsp;&nbsp;&nbsp;&nbsp;&lt;argument↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:name=&quot;userId&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app:argType=&quot;string&quot;&nbsp;/&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;deepLink↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/deepLink&quot;↵&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app:uri=&quot;chat://convention/{userId}&quot;&nbsp;/&gt;&lt;/fragment&gt;复制代码</pre><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavController#navigate()</code> 方法支持传入 URI</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"navigate to deep link\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5f9b8c952e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1203\" data-height=\"455\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1203&quot; height=&quot;455&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">navigate to deep link</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">因此可直接调用</p><pre style=\"margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\" data-tool=\"mdnice编辑器\" class=\"custom\">val&nbsp;userId&nbsp;=&nbsp;&quot;1111&quot;findNavController().navigate(&quot;chat://convention/$userId&quot;.toUri())复制代码</pre><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-21\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">模块化</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">参见 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5ec50ae46fb9a047a862124f\" target=\"_blank\" rel=\"\">【奇技淫巧】使用 Navigation + Dynamic Feature Module 实现模块化</a></p><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-22\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">Navigation 设计探讨</span><span class=\"suffix\"></span></h2><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-23\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">fragment replace 你真的了解吗</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">androidx 下 frament replace 的行为你真的了解吗？</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">该部分内容我们在 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e738d12518825495d69cfb9#heading-9\" target=\"_blank\" rel=\"\">【背上 Jetpack】绝不丢失的状态 androidx SaveState ViewModel-SaveState 分析</a> 和<a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e67523551882549003d2c4f\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Fragment】从源码角度看 Fragment 生命周期 AndroidX Fragment1.2.2 源码分析</a> 已有分析</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">因此我们直接说结论</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">fragment replace 后 <strong>「前一个 fragment 会执行 onDestroyView 而不执行 onDestroy」</strong> ，即 fragment 本身未销毁，其内部 view 被销毁</p><blockquote style=\"font-size: 0.9em; overflow: auto; padding: 10px 10px 10px 20px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; border-radius: 6px; color: rgb(89, 89, 89); box-sizing: inherit; border: 1px solid rgb(222, 198, 251); background: rgb(246, 238, 255);\" data-tool=\"mdnice编辑器\"><span style=\"color: #DEC6FB; font-size: 34px; line-height: 1; font-weight: 700;\">❝</span><p style=\"padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin-top: 0px; margin-bottom: 0px; line-height: 26px;\">FragmentManager 的 moveToState 方法在触发 fragment 的 onDestroyView 前根据条件会执行 fragmentStateManager.saveViewState() 方法来保存 view 状态（1.2.2，旧版本该处方法方法名略有不同）</p><p style=\"padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin-top: 0px; margin-bottom: 0px; line-height: 26px;\">而由于 fragment 本身没有销毁，其成员也不会被销毁</p><p style=\"padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin-top: 0px; margin-bottom: 0px; line-height: 26px;\">所以当返回后 view 的状态会被恢复，而成员状态没有改变，所以 replace 后 fragment 能恢复到之前的状态</p><span style=\"float: right; color: #DEC6FB;\">❞</span></blockquote><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">那么 Navigation 的所谓 「设计问题」是怎么回事？</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-24\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">被重建的 fragment</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我们使用 navigation 从 HomeFragment 跳转到 DashboardFragment，日志如下</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"使用navigation切换fragment\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5faa1bd726?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"156\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;156&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">使用navigation切换fragment</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">可以看到 HomeFragment 被重建了，<strong>「原实例（e6c266），新实例（c3e49cc）」</strong></p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><strong>「fragment 被重建，这就是原因所在！」</strong></p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">那么为什么出现这种现象？我们翻一下源码</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"navigate方法\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fad32bf02?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1246\" data-height=\"881\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fad32bf02?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">navigate方法</figcaption></figure><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"通过反射创建新的fragment实例\" class=\"lazyload inited loaded\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fc0720836?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1188\" data-height=\"804\" src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fc0720836?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">通过反射创建新的fragment实例</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">从源码可以看到，其内部通过反射创建了新的 fragment 实例，这导致 fragment 内部的状态无法恢复</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">不过如果 navigation 导航的所有 destination 没有平级关系，换句话说在一个返回栈内，这样的设计是没有问题的</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">但是有些时候我们希望使用 navigation 管理一些平级界面，例如 BottomNavigation</p><h3 style=\"margin-top: 30px; margin-bottom: 15px; padding: 0px; font-size: 16px; text-align: center;\" data-tool=\"mdnice编辑器\" data-id=\"heading-25\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"border-bottom: 2px solid #DEC6FB; color: #595959;\" class=\"content\">不符合 Material Design 的 BottomNavigation</span><span style=\"display: none;\" class=\"suffix\"></span></h3><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">issuetracker 有这样一个 issue，注意提出的时间</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"issue\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fbd33d492?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"490\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;490&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">issue</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">主要意思就是现阶段的 bottom tab navigation 不符合 Material Design 的规范</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">标签间要保存滚动位置</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">每个标签应该有自己独立的返回栈</section></li></ul><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">相同类型的 issue 还有这些</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"相同类型的issue\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fcb8fccc5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"285\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;285&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">相同类型的issue</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">Ian Lake 在该条 issue 下给出了详细的解答</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我在这里简单介绍一下 Ian Lake，虽然不知道他的职位，但从他的活跃程度看应该是 fragment 和 navigation 的负责人，在 Google I/O 大会 和 Android Dev Summit 多次进行演讲，例如 fragment 的过去，现在和将来，单 activity 项目</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"官方解答\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fd413eeea?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"690\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;690&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">官方解答</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\"><strong>「一句话解释：单个 FragmentManager 不支持多个返回栈，以现有的 fragment API 无法做到这一支持，开发者不得不自己实现多返回栈（例如我在 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); font-weight: normal; border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e6e50a3518825490762098b\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Fragment】从源码的角度看 Fragment 返回栈 附多返回栈 demo</a> 一文中提供的 demo）」</strong></p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">但他提供了短期和中期方案</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\">短期：提供一个公开示例，展示使用当前 API 进行多返回栈的实现（即，每个底部导航项都有一个单独的 NavHostFragment 和 navigation graph）。<a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://github.com/android/architecture-components-samples/tree/master/NavigationAdvancedSample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">其 demo 在这</a> ，核心逻辑在 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NavigationExtensions.kt</code> 内</p></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\">中期：在 Fragment 上构建正确的 API，以便它们可以正确地支持多个返回栈，包括为所有返回栈上的所有 Fragment 正确保存和恢复已保存的实例状态和非配置实例状态。 这项工作目前处于探索阶段，尽管我希望，但我无法提供时间表或保证这项工作将会成功</p></section></li></ul><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">以上回复发生在 2019 年 2 月</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">在 2019 年 10 月 Ian Lake 再次回复了开发者的疑问</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"官方补充1\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fd7498d5c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"329\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;329&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">官方补充1</figcaption></figure><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"官方补充2\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f5fe3c789b6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"237\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;237&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">官方补充2</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">多返回栈支持计划需要三步走</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">为 fragment 提供相应的 API 以保证多返回栈的 fragment 状态能够被保存</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">NavController API 提供了通用框架，该框架允许任何 Navigator（括 FragmentNavigator）支持多返回栈</section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\">NavigationUI 中提供的新 API，可让您在使用 BottomNavigationView 或 NavigationView 时 无论是单返回栈（当前模式）还是多返回栈都能控制 setupWithNavController()</section></li></ul><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">之后他回复了 70 楼的开发者，明确了如果使用单个 NavHostFragment / navigation graph / FragmentManager 能够支持多返回栈，那么从 A 或 B 导航到 C 就不会有任何问题</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">接着时间来到了 2020 年</p><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"><img style=\"max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;\" alt=\"2020年的最新回复\" class=\"lazyload inited\" data-src=\"https://user-gold-cdn.xitu.io/2020/5/21/17237f637e33684a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" data-width=\"1280\" data-height=\"643\" src=\"data:image/svg+xml;utf8,<?xml version=&quot;1.0&quot;?><svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;643&quot;></svg>\"/><figcaption style=\"margin-top: 5px; text-align: center; font-size: 13px; color: rgb(89, 89, 89);\">2020年的最新回复</figcaption></figure><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">今年 1 月 30 日，Ian Lake 再次做了回复</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">大概意思就是原定 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Fragment 1.3.0</code> 和 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigation 2.3.0</code> 提供多返回栈支持的计划跳水了，计划在 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Fragment 1.4.0-alpah01</code> 和 <code style=\"overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; background-color: rgba(27, 31, 35, 0.05); font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;\">Navigation 2.4.0-alpha01</code> 提供</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">至此关于 Navigation 所谓的 「设计问题」就探讨结束了</p><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">欢迎各位小伙伴在评论区留言说说你的想法</p><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-26\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">Jetpack 系列</span><span class=\"suffix\"></span></h2><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">背上 Jetpack 系列到此已经将主要的组件都讲完了，没看过的小伙伴赶快去看看，我将博客整理分类并发在了 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://github.com/Flywith24/BlogList\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">这里</a> ，如果对你有帮助的话记得点赞哦</p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e567ee1518825494466a938\" target=\"_blank\" rel=\"\">【背上 Jetpack】Jetpack 主要组件的依赖及传递关系</a></p></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e5a0c316fb9a07cd248d29e\" target=\"_blank\" rel=\"\">【背上 Jetpack】AdroidX 下使用 Activity 和 Fragment 的变化</a></p></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e5cd8686fb9a07cbc269d10\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Fragment】你真的会用 Fragment 吗？Fragment 常见问题以及 androidx 下 Fragment 的使用新姿势</a></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e67523551882549003d2c4f\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Fragment】从源码角度看 Fragment 生命周期 AndroidX Fragment1.2.2 源码分析</a></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e6bae35f265da572a0d11ad\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 OnBackPressedDispatcher】Fragment 返回栈预备篇</a></section></li></ul><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e6e50a3518825490762098b\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Fragment】从源码的角度看 Fragment 返回栈 附多返回栈 demo</a></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e738d12518825495d69cfb9\" target=\"_blank\" rel=\"\">【背上 Jetpack】绝不丢失的状态 androidx SaveState ViewModel-SaveState 分析</a></section></li></ul><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e786d415188255e00661a4e\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 ViewModel】即使您不使用 MVVM 也要了解 ViewModel ——ViewModel 的职能边界</a></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e8348bef265da47e02a6ce2\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 Lifecycle】万物基于 Lifecycle 默默无闻大用处</a></section></li></ul><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e834bb5f265da480d61668d\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 LiveData】ViewModel 的左膀右臂 数据驱动真的香</a></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/post/5e8ef0bc518825736b749705\" target=\"_blank\" rel=\"\">【背上 Jetpack 之 DataBinding】数据驱动魔法师 何时迎来翻身日？</a></section></li></ul><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href>【背上 Jetpack 之 Navigation】想去哪就去哪，Android 世界的指南针</a> 本文</section></li></ul><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"></ul><br data-tool=\"mdnice编辑器\"/><h2 style=\"padding: 0px; font-size: 22px; margin: 20px 10px 0px 0px;\" data-tool=\"mdnice编辑器\" data-id=\"heading-27\"><span style=\"display: none;\" class=\"prefix\"></span><span style=\"font-size: 18px; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;\" class=\"content\">关于我</span><span class=\"suffix\"></span></h2><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: rgb(89, 89, 89); margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;\" data-tool=\"mdnice编辑器\">我是 <a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://flywith24.gitee.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Fly_with24</a></p><ul style=\"list-style-type: circle;\" data-tool=\"mdnice编辑器\"><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://juejin.im/user/57c7f6870a2b58006b1cfd6c\" target=\"_blank\" rel=\"\">掘金</a></p></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://www.jianshu.com/u/3d5ad6043d66\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">简书</a></p></section></li><li><section style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; font-size: 14px;\"><p style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; margin-top: 10px; margin-bottom: 10px; letter-spacing: 2px; word-spacing: 2px;\"><a style=\"text-decoration-line: none; overflow-wrap: break-word; color: rgb(102, 77, 157); border-bottom: 1px solid rgb(102, 77, 157);\" href=\"https://github.com/Flywith24\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Github</a></p></section></li></ul><figure style=\"margin: 0; margin-top: 10px; margin-bottom: 10px;\" data-tool=\"mdnice编辑器\"></figure></div><br/>作者：Flywith24<br/>链接：https://juejin.im/post/5ec6a56ff265da76ce5774df<br/>来源：掘金<br/>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</div>",
    "createTime": ISODate("2020-05-23T13:25:45.654Z"),
    "type": 2
}
/* 3 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471ed"),
    "author": "英雄联盟小组编",
    "title": "【大话新闻】177期：明凯想做王者教练，Mayumi高颜值视频",
    "pic": "/public/img/2.jpg",
    "showTop": false,
    "show": true,
    "remark": [
        {},
        {},
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "<img id=\"aimg_kwN6V\" class=\"zoom\" width=\"600\" src=\"http://shp.qpic.cn/txdiscuz_pic/0/_bbs_lol_qq_com_forum_201912_17_222240g4q9sid4hhs35q11.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">观众老爷们好，这里是【大话新闻】，我是风声。</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span><span style=\"font-size:12px;overflow-wrap: break-word;\">这周发生的第一个大事件就是德杯的落幕，RNG3:1成功战<br style=\"overflow-wrap: break-word;\"/>胜EDG拿下了这次德杯的冠军。而小虎最后一局的妖姬在<br style=\"overflow-wrap: break-word;\"/>关键时刻秒杀EDG、Hope的卡莎可以说是非常亮眼。</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/><br style=\"overflow-wrap: break-word;\"/></span></span></span></span></span><img id=\"aimg_d7ro4\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_1816332o9qbnzo2xe0o2qb.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">而小虎在赛后采访中对这个秒杀表现直言“其实我也没有太</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">大把握击杀掉他，也是多了一个火龙的伤害，也算是运气好</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">把他秒掉的”。</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_FYn2Y\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_181628axx9a1ynh8uyli1a.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">看来小虎还是比较谦虚的选手，而在德杯落幕后，明凯开启了直播。</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/>他也谈到了这次的德玛西亚杯比赛，明凯直言：“其实我对这次德</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">杯<br style=\"overflow-wrap: break-word;\"/>EDG的表现还是非常满意的，在八强赛和半决赛中我们都经历了很</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">多。”</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_kvp9n\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_181638j6jjqrjelx6sqmzj.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">而昨天明凯也在直播中透露，要当一个王者教练。随后很多粉丝发</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">弹幕问</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">到：是不是要当一个比队员Rank分都高的教练啊?而明凯也是开玩</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">笑的调</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">侃道：“比队员Rank分都高，这有点难吧!要是我分比他们都高了</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">，那我</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">BP完了就可以直接坐上去打了。”此时弹幕也是在狂刷：“教练</span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">正在热身!”</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_jwIo8\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_181645fm0x1ktrhfo1mkk5.png/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">除了德杯，这周还有一个事件就是Doinb迎来了自己的23岁生日。<br style=\"overflow-wrap: break-word;\"/></span></span></span></span></span><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">而在采访中还曝出与糖小幽的恋爱经历。</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_PwSIi\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_1816352dsv6zz2smdk2mw6.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">这一对也可以说是电竞圈的模范夫妻了。而电竞圈还有一位模范女</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">职业选手Mayumi。近日Mayumi分享了一个视频动态。</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_rfkJp\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_181640bjy99udfc3ect3ct.png/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span></span><span style=\"color:#444444;overflow-wrap: break-word; color: #444444; font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-size:12px;overflow-wrap: break-word;\">除了高颜值，技术也是在线的。她非常擅长使用女坦和泰坦这样的硬控坦克辅助。</span></span></span></span></span><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><img id=\"aimg_Z9JPZ\" class=\"zoom\" width=\"500\" src=\"http://dp.gtimg.cn/discuzpic/0/discuz_x5_gamebbs_qq_com_forum_201912_31_181631jxqb9y5r3egj1nr1.png/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/>",
    "createTime": ISODate("2020-05-23T13:25:45.655Z"),
    "type": 2
}
/* 4 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471f0"),
    "author": "英雄联盟小组编",
    "title": "拒绝大杂烩，一个 Clean 的 MVVM 框架",
    "showTop": true,
    "show": false,
    "pic": "/public/img/3.jpg",
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "Mixed 混合型\n                        An “anything goes” SchemaType, its flexibility comes at a trade - off of it being harder to maintain.Mixed is available either through Schema.Types.Mixed or by passing an empty object literal.The following are equivalent:\n\n                        混合型是一种“存啥都行”的数据类型，它的灵活性来自于对可维护性的妥协。Mixed类型用Schema.Types.Mixed 或者一个字面上的空对象{ } 来定义。下面的定义是等价的：\n\n                        var Any = new Schema({ any: {} });\n                        var Any = new Schema({ any: Schema.Types.Mixed });\n\n\n                        Since it is a schema - less type, you can change the value to anything else you like, but Mongoose loses the ability to auto detect and save those changes.To “tell” Mongoose that the value of a Mixed type has changed, call the.markModified(path) method of the document passing the path to the Mixed type you just changed.\n\n                        因为它是一种 无拘无束，无法无天 无固定模式的类型，所以你可以想怎么改就怎么改，但是Mongoose 没有能力去自动检测和保存这些改动。请通过调用doc.markModified 方法来告诉Mongoose某个混合类型的值被改变了。\n\n                        person.anything = { x: [3, 4, { y: \"changed\" }] };\n                        person.markModified('anything');\n                        person.save(); // anything will now get saved",
    "createTime": ISODate("2020-05-23T13:25:45.655Z"),
    "type": 2
}
/* 5 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471f3"),
    "author": "abinding",
    "title": "【皮埃斯公馆】AD之间的较量，求求队友别选亚索",
    "pic": "/public/img/article/1.jpg",
    "showTop": false,
    "show": true,
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "<div align=\"center\" style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><div align=\"left\" style=\"overflow-wrap: break-word;\"><img id=\"aimg_nEqcu\" class=\"zoom\" width=\"550\" src=\"http://shp.qpic.cn/txdiscuz_pic/0/_bbs_lol_qq_com_forum_201912_21_235826bf48hkf3roip8f84.jpg/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></div></span></span></span></span></div><p><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"></span></span></p><p><br/></p>",
    "createTime": ISODate("2020-05-23T13:25:45.656Z"),
    "type": 2
}
/* 6 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471f6"),
    "author": "建精美的",
    "title": "2020年LPL春季赛赛程公布",
    "pic": "/public/img/article/2.jpg",
    "showTop": false,
    "show": true,
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "<div align=\"center\" style=\"overflow-wrap: break-word; color: rgb(68, 68, 68); font-family: &quot;Microsoft Yahei&quot;, arial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><div align=\"left\" style=\"overflow-wrap: break-word;\"><table cellspacing=\"0\" cellpadding=\"0\" width=\"657\" style=\"width: 376px;\"><tbody style=\"overflow-wrap: break-word;\"><tr style=\"overflow-wrap: break-word;\" class=\"firstRow\"><td class=\"t_f\" id=\"postmessage_4182\" style=\"overflow-wrap: break-word; font-size: 14px;\"><img id=\"aimg_Hu3tb\" class=\"zoom\" width=\"600\" height=\"8610\" src=\"https://shp.qpic.cn/cfwebcap/0/6311d1d25ce1b365624c71c3ad32d478/0?width=600&height=8610\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></td></tr></tbody></table></div></span></span></span></span></div><p><span style=\"font-family:宋体;overflow-wrap: break-word; color: #444444; font-size: 14px; white-space: normal; background-color: #FFFFFF;\"><span style=\"overflow-wrap: break-word;\"></span></span></p><p><br/></p>",
    "createTime": ISODate("2020-05-23T13:25:45.656Z"),
    "type": 2
}
/* 7 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471f9"),
    "author": "阿江",
    "title": "【七嘴八舌】WE官宣957将退役，Faker谈感情问题",
    "pic": "/public/img/article/4.jpg",
    "showTop": false,
    "show": true,
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "<table cellspacing=\"0\" cellpadding=\"0\" width=\"657\" style=\"width: 393px;\"><tbody style=\"overflow-wrap: break-word;\"><tr style=\"overflow-wrap: break-word;\" class=\"firstRow\"><td class=\"t_f\" id=\"postmessage_4289\" style=\"overflow-wrap: break-word; font-size: 14px;\"><img id=\"aimg_vR0G0\" class=\"zoom\" width=\"600\" src=\"http://shp.qpic.cn/txdiscuz_pic/0/_bbs_lol_qq_com_forum_201912_23_205448c0x7jrn7hghqvxsj.jpg/0\" border=\"0\" alt=\"\" initialized=\"true\" style=\"overflow-wrap: break-word; cursor: pointer;\"/><span style=\"color:#444444;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"></span></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;;overflow-wrap: break-word;\"><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word; font-weight: 700;\">新的一期的七嘴八舌来啦，来看看最近电竞圈内有什么让人眼前一亮的事情吧。</span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:Microsoft Yahei, arial, helvetica, sans-serif;overflow-wrap: break-word;\"><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:Microsoft Yahei, arial, helvetica, sans-serif;overflow-wrap: break-word;\"><span style=\"color:#ff8c00;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word; font-weight: 700;\">WE官宣957即将退役</span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">WE官博向大家公布了一条消息，</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">WE上单选手957将在WE春季赛首个比赛日，</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">在WE主场完成退役仪式。</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">也就是说在即将到来的1月18日的比赛中，</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">职业选手957将正式离开赛场。</span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_HoBA6\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jiiT*WHZYxNyyuOORcxFZGdi85LZXmNG*iX3VkCuGtKdExFdyKE7ZUAufzq5*LVEEGEyv0kBzeq8KmljQtg42N0!/b&bo=vAKkALwCpAADGTw!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"600\" height=\"140\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">在今年转会期之后，兮夜、大舅子相继离开，</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">再加上957的退役，这支S7的WE也正式成为过去式。</span></td></tr></tbody></table>",
    "createTime": ISODate("2020-05-23T13:25:45.657Z"),
    "type": 2
}
/* 8 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471fc"),
    "author": "英雄联盟i",
    "title": "【撸在囧图】283期：玩辅助抢了人头怎么办？在线等",
    "showTop": true,
    "show": true,
    "pic": "/public/img/article/5.jpg",
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "<table cellspacing=\"0\" cellpadding=\"0\" width=\"657\" style=\"width: 384px;\"><tbody style=\"overflow-wrap: break-word;\"><tr style=\"overflow-wrap: break-word;\" class=\"firstRow\"><td class=\"t_f\" id=\"postmessage_4136\" style=\"overflow-wrap: break-word; font-size: 14px;\"><img id=\"aimg_lVmZf\" class=\"zoom\" width=\"600\" src=\"http://shp.qpic.cn/txdiscuz_pic/0/_bbs_lol_qq_com_forum_201912_21_235059ld09e9r7tree8o0z.png/0\" border=\"0\" alt=\"\" style=\"overflow-wrap: break-word; cursor: pointer;\"/><span style=\"color:#444444;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"></span></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word; font-weight: 700;\">本囧图内容仅供玩家娱乐，博玩家一笑。<br style=\"overflow-wrap: break-word;\"/>感谢玩家支持啦～在此谢谢长期观看本专栏的玩家！<br style=\"overflow-wrap: break-word;\"/>独乐乐不如众乐乐，广大玩家发现有好玩儿的图片快联系我们啦！<br style=\"overflow-wrap: break-word;\"/>[可论坛私信或者回复本帖，我们将密切关注本帖动态！谢谢大家！]</span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\">当我玩辅助故意抢人头的时候</span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_i124Q\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jrcLV8aRNEgv0AYL4jCEx8mpfroT7tHc0g.4YRsHi0l0gImgidzLTIFidergPymz*27iheTO6AEiNJgRJXrKmfQ!/b&bo=JgIAAiYCAAIRGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"550\" height=\"512\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\">德莱文什么时候带眼镜了？</span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_em59R\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jlss29NQ1fHIwvMLiroftn7ywB2BL9wB.nJF67QKJ4fWKIVfd1SRmN.ha51rzvpA7U8GfO17sqG0868ZdBHfN6w!/b&bo=CwK8AgsCvAIRGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"524\" height=\"700\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\">多说无益，用实力说话</span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_BM94i\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jqC4bXKHSJWkPOKChjPbCFDzOcN06DJq.NJcyNWxhd71JTZ7jvYUVhf*yhhae4r.96hS.pkwxTHaCYbURrdwiYY!/b&bo=kAGJAZABiQERGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"400\" height=\"394\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\">辣鸡打野，不敢抓我</span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_XF5J6\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9joZi2Qqw8wh7zRVwLVwQCZALZUaVZBRAvXC.XD7BX586Y5XNR8Hf3H.j1YRABDmkxAeTn0YkHDUHgBeER3Tl7Sk!/b&bo=vAJQAbwCUAERGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"600\" height=\"288\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:宋体;overflow-wrap: break-word;\">你等着，我闪现过去就是一巴掌</span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"></span><img id=\"aimg_s7654\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9joynY17htuD8xl.5VrWkgZ8S5s44h4mH*zBgoaDDEA1ED31GP96bIKBmxwJHE1in96FvFmRFy8mdd65*r8MS.d8!/b&bo=8ADwAPAA8AARGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"240\" height=\"240\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">青铜打不过，可以打黑铁呀</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_HsSJ2\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9ji1haRvUUbyUk5QE.dRLaoTBXdqd238hNzQ*kEfAZYVE77vuqJRUr51aRNZow*63hEtJxIUNau0rJoWZpyd0qyQ!/b&bo=vALJAbwCyQERGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"600\" height=\"392\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\">这波嘲讽很真实啊</span><br style=\"overflow-wrap: break-word;\"/><span style=\"font-family:宋体;overflow-wrap: break-word;\"><img id=\"aimg_AtKSp\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jhaXp7brQDcIQIj1UepqSAOBorzlR8myfSViCSccpxS1Y3AZ5pRLXRyu0JCfm36n9va6Ll60zEcz6r1fv3dkv64!/b&bo=WAJqAVgCagERGS4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"600\" height=\"362\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><br style=\"overflow-wrap: break-word;\"/></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word;\"><span style=\"font-family:&amp;quot;overflow-wrap: break-word;\"><span style=\"overflow-wrap: break-word; font-weight: 700;\">本期回复有福利哦</span></span></span></span></span></span><br style=\"overflow-wrap: break-word;\"/><span style=\"color:#ff0000;overflow-wrap: break-word;\"><img id=\"aimg_Lc7m0\" class=\"zoom\" src=\"http://m.qpic.cn/psc?/V12swzot0jQkyd/cnQ2D7YjAZ5R6pY0fmc9jjNkoumNnHHcoAnf*zEF1Hx.Z5hRrmNd.Gtca.4zytpfdZFXK3fG5jJjQVGwnTMDwLzXEfYuroFHYvF9.XIwZQA!/b&bo=sgKyArICsgIRCT4!&rf=viewer_4\" border=\"0\" alt=\"\" width=\"600\" height=\"600\" style=\"overflow-wrap: break-word; cursor: pointer;\"/></span></td></tr></tbody></table>",
    "createTime": ISODate("2020-05-23T13:25:45.655Z"),
    "type": 2
}
/* 9 */
{
    "_id": ObjectId("5ec8c245ed0046ad012471ff"),
    "author": "hub 主页",
    "title": "【传送门：FRefresh Github 主页 - 感谢您的 Star 🌟】",
    "showTop": false,
    "show": true,
    "pic": "/public/img/article/6.jpg",
    "remark": [
        {},
        {},
        {},
        {},
        {}
    ],
    "body": "Mixed 混合型\n                        An “anything goes” SchemaType, its flexibility comes at a trade - off of it being harder to maintain.Mixed is available either through Schema.Types.Mixed or by passing an empty object literal.The following are equivalent:\n\n                        混合型是一种“存啥都行”的数据类型，它的灵活性来自于对可维护性的妥协。Mixed类型用Schema.Types.Mixed 或者一个字面上的空对象{ } 来定义。下面的定义是等价的：\n\n                        var Any = new Schema({ any: {} });\n                        var Any = new Schema({ any: Schema.Types.Mixed });\n\n\n                        Since it is a schema - less type, you can change the value to anything else you like, but Mongoose loses the ability to auto detect and save those changes.To “tell” Mongoose that the value of a Mixed type has changed, call the.markModified(path) method of the document passing the path to the Mixed type you just changed.\n\n                        因为它是一种 无拘无束，无法无天 无固定模式的类型，所以你可以想怎么改就怎么改，但是Mongoose 没有能力去自动检测和保存这些改动。请通过调用doc.markModified 方法来告诉Mongoose某个混合类型的值被改变了。\n\n                        person.anything = { x: [3, 4, { y: \"changed\" }] };\n                        person.markModified('anything');\n                        person.save(); // anything will now get saved",
    "createTime": ISODate("2020-05-23T13:25:45.657Z"),
    "type": 2
}